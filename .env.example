# ==============================================
# CareFlow-EHR - Configuration Environment
# ==============================================
# Copy this file to .env and fill with your values
# DO NOT commit .env to version control

# ==============================================
# SERVER CONFIGURATION
# ==============================================
PORT=5000
NODE_ENV=development
CORS_ORIGIN=http://localhost:3000
LOG_LEVEL=info

# ==============================================
# DATABASE - MongoDB
# ==============================================
MONGODB_URI=mongodb://localhost:27017/careflow_ehr

# MongoDB Atlas (Cloud)
# MONGODB_URI=mongodb+srv://<username>:<password>@cluster.mongodb.net/careflow_ehr?retryWrites=true&w=majority

# MongoDB with Authentication
# MONGODB_URI=mongodb://admin:password@localhost:27017/careflow_ehr?authSource=admin

# ==============================================
# JWT AUTHENTICATION
# ==============================================
# IMPORTANT: Change this in production!
JWT_SECRET=your_super_secret_jwt_key_change_in_production_minimum_32_characters
JWT_REFRESH_SECRET=your_super_secret_refresh_key_change_in_production_minimum_32_characters
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ==============================================
# AWS S3 / MinIO STORAGE
# ==============================================
# AWS S3 Configuration
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=careflow-ehr-documents

# MinIO Local Configuration (recommended for development)
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin123
AWS_REGION=us-east-1
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_ENDPOINT=http://localhost:9000
S3_REGION=us-east-1
S3_BUCKET_NAME=careflow-documents

# Additional S3 Configuration (optional)
# S3_FORCE_PATH_STYLE=true
# S3_SIGNATURE_VERSION=v4

# ==============================================
# SMTP EMAIL SERVICE (Optional)
# ==============================================
# Gmail Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_specific_password

# SendGrid (Alternative)
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASSWORD=your_sendgrid_api_key

# Outlook/Office365 (Alternative)
# SMTP_HOST=smtp.office365.com
# SMTP_PORT=587
# SMTP_USER=your_email@outlook.com
# SMTP_PASSWORD=your_password

# Email From Address
EMAIL_FROM=noreply@careflow-ehr.com
EMAIL_FROM_NAME=CareFlow-EHR

# ==============================================
# REDIS CACHE (Optional)
# ==============================================
# Redis Local
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# Redis Cloud
# REDIS_URL=redis://username:password@host:port

# Cache TTL (in seconds)
# CACHE_TTL=3600

# ==============================================
# SECURITY & CORS
# ==============================================
# CORS Origins (comma-separated for multiple origins)
CORS_ORIGIN=http://localhost:3000,http://localhost:4200,http://localhost:8080

# CORS Credentials
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# FILE UPLOAD CONFIGURATION
# ==============================================
# Max file size in bytes (20MB = 20971520 bytes)
MAX_FILE_SIZE=20971520

# Allowed MIME types (comma-separated)
ALLOWED_MIME_TYPES=application/pdf,image/jpeg,image/png,image/jpg,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# Upload directory (temporary, before S3)
UPLOAD_DIR=./uploads

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
# Log Level: error, warn, info, debug
LOG_LEVEL=info

# Log File Paths
LOG_FILE_ERROR=logs/error.log
LOG_FILE_COMBINED=logs/combined.log

# Log to Console (true/false)
LOG_CONSOLE=true

# Log Format: json, simple
LOG_FORMAT=json

# ==============================================
# SESSION & COOKIES
# ==============================================
# Session Secret (for cookie-based sessions)
SESSION_SECRET=your_session_secret_key_minimum_32_characters

# Cookie Max Age (in milliseconds, 7 days = 604800000)
COOKIE_MAX_AGE=604800000

# Cookie Secure (true in production with HTTPS)
COOKIE_SECURE=false

# Cookie Same Site (strict, lax, none)
COOKIE_SAME_SITE=lax

# ==============================================
# PAGINATION DEFAULTS
# ==============================================
DEFAULT_PAGE_SIZE=10
MAX_PAGE_SIZE=100

# ==============================================
# TIMEZONE & LOCALE
# ==============================================
TIMEZONE=UTC
# TIMEZONE=Europe/Paris
# TIMEZONE=America/New_York

LOCALE=en-US
# LOCALE=fr-FR

# ==============================================
# FEATURE FLAGS (Optional)
# ==============================================
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_API_DOCUMENTATION=true
ENABLE_METRICS=false

# ==============================================
# EXTERNAL APIs (Optional)
# ==============================================
# Google Maps API (for pharmacy geolocation)
# GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# Twilio (for SMS notifications)
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_PHONE_NUMBER=+1234567890

# ==============================================
# MONITORING & ANALYTICS (Optional)
# ==============================================
# Sentry Error Tracking
# SENTRY_DSN=your_sentry_dsn

# Google Analytics
# GA_TRACKING_ID=UA-XXXXX-Y

# ==============================================
# DEVELOPMENT TOOLS
# ==============================================
# Enable Debug Mode
DEBUG=false

# Seed Database on Start
SEED_DATABASE=true

# Auto-create Admin User on First Start
CREATE_ADMIN_ON_START=false
ADMIN_EMAIL=admin@careflow-ehr.com
ADMIN_PASSWORD=Admin123!

# ==============================================
# DOCKER CONFIGURATION (for docker-compose)
# ==============================================
# MongoDB Docker
# MONGO_INITDB_ROOT_USERNAME=admin
# MONGO_INITDB_ROOT_PASSWORD=admin123
# MONGO_INITDB_DATABASE=careflow_ehr

# MinIO Docker
# MINIO_ROOT_USER=minioadmin
# MINIO_ROOT_PASSWORD=minioadmin123

# Redis Docker
# REDIS_PASSWORD=redis_password

# ==============================================
# BACKUP & MAINTENANCE
# ==============================================
# Automatic Backup Schedule (cron format)
# BACKUP_SCHEDULE=0 2 * * *

# Backup Storage Path
# BACKUP_PATH=./backups

# Backup Retention Days
# BACKUP_RETENTION_DAYS=30

# ==============================================
# NOTES
# ==============================================
# 1. Copy this file to .env
# 2. Replace all placeholder values with actual values
# 3. Never commit .env to version control (add to .gitignore)
# 4. In production, use environment variables from your hosting platform
# 5. For JWT_SECRET and SESSION_SECRET, generate strong random strings:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
